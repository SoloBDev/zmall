---
title: ZMall System Architecture - Top to Bottom Flow
---
graph TD
    %% TIER 1: CLIENTS & EXTERNAL
    subgraph TIER1["â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TIER 1: CLIENTS & EXTERNAL â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"]
        subgraph ExtConn["External Connections"]
            Internet["â˜ï¸ INTERNET"]:::compact
            Mobile["ğŸ“± Mobile Devices"]:::compact
            POS["ğŸ’³ POS Machines"]:::compact
        end

        subgraph PaymentGW["Payment Gateways"]
            Telebirr["ğŸ’° Telebirr"]:::compact
            Chapa["ğŸ’³ Chapa"]:::compact
            EthSwitch["ğŸ¦ EthSwitch"]:::compact
            Amole["ğŸ’µ Amole"]:::compact
            Dashen["ğŸ¦ Dashen"]:::compact
            Others["ğŸ’³ Others"]:::compact
        end

        subgraph GoogleSocial["Google & Social"]
            GMaps["ğŸ—ºï¸ Maps API"]:::compact
            GOAuth["ğŸ” OAuth"]:::compact
            Facebook["ğŸ“˜ Analytics"]:::compact
        end
    end

    %% TIER 2: BACKEND SERVERS
    subgraph TIER2["â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TIER 2: BACKEND SERVERS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"]
        subgraph ZMallServer["ğŸ–¥ï¸ ZMall Server"]
            ServerURLs["Production: 196.188.187.43:8000<br/>Test: 196.189.44.49:7000"]:::compact

            UserAPI["/api/user/*"]:::compact
            AdminAPI["/api/admin/*"]:::compact
            StoreAPI["/api/store/*"]:::compact

            Users["ğŸ‘¥ Users"]:::compact
            Orders["ğŸ“¦ Orders"]:::compact
            Stores["ğŸª Stores"]:::compact
            Products["ğŸ“¦ Products"]:::compact
            Cart["ğŸ›’ Cart"]:::compact
            Trans["ğŸ’³ Transactions"]:::compact
        end

        subgraph PaymentAgg["ğŸ’³ Payment Aggregator"]
            PaymentURL["URL: 196.189.44.60/"]:::compact
            PaymentOps["Telebirr, Chapa, EthSwitch, Amole"]:::compact
        end
    end

    %% TIER 3: FIREBASE & CLOUD SERVICES
    subgraph TIER3["â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TIER 3: FIREBASE & CLOUD â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"]
        subgraph Firebase["ğŸ”¥ Firebase zmall-184809"]
            FCM["ğŸ”” FCM"]:::compact
            Analytics["ğŸ“Š Analytics"]:::compact
            DynamicLinks["ğŸ”— Dynamic Links<br/>Not Used"]:::compact
        end
    end

    %% TIER 4: MOBILE APPLICATION
    subgraph TIER4["â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TIER 4: MOBILE APP â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"]
        subgraph FlutterApp["ğŸ“± Flutter v3.2.3+340"]
            Splash["Splash"]:::compact
            Login["Login/OTP"]:::compact
            Home["Home"]:::compact
            Store["Store"]:::compact
            Product["Product"]:::compact
            Cart2["Cart"]:::compact
            Checkout["Checkout"]:::compact
            Wallet["Wallet"]:::compact
            Profile["Profile"]:::compact

            ServiceDart["service.dart"]:::compact
            CoreServices["core_services.dart"]:::compact
            Biometric["biometric_services"]:::compact

            Models["Models"]:::compact
            SharedPrefs["SharedPreferences"]:::compact
            SecureStorage["Secure Storage"]:::compact

            BiometricAuth["Biometric Auth"]:::compact
            OTP["OTP/SMS"]:::compact
            MultiAccount["Multi-Account"]:::compact
        end
    end

    %% CONNECTIONS
    TIER1 --> TIER2
    TIER2 --> TIER3
    TIER3 --> TIER4
    Mobile --> FlutterApp

    %% Styling
    classDef tier1Style fill:#FFE4B5,stroke:#FF8C00,stroke-width:3px,color:#000
    classDef tier2Style fill:#B0E0E6,stroke:#4682B4,stroke-width:3px,color:#000
    classDef tier3Style fill:#FFB6C1,stroke:#DC143C,stroke-width:3px,color:#000
    classDef tier4Style fill:#98FB98,stroke:#228B22,stroke-width:3px,color:#000
    classDef compact fill:#FFF,stroke:#666,stroke-width:1px,padding:2px,margin:2px

    class TIER1 tier1Style
    class TIER2 tier2Style
    class TIER3 tier3Style
    class TIER4 tier4Style
